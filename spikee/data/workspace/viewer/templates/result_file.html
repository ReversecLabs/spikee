{% extends "base.html" %}

{% block content %}
<div id="content" class="container">
    <div class="row justify-content-center">
        <div class="col-12 d-flex flex-column">

            <form class="d-flex justify-content-end" method="get">
                <div class="me-2 mb-2">
                    <select class="form-select" name="category" id="category" style="min-width: 160px;">
                        <option {{ "selected" if category == "success" else "" }} value="success">Success</option>
                        <option {{ "selected" if category == "failure" else "" }} value="failure">Failure</option>
                        <option {{ "selected" if category == "error" else "" }} value="error">Error</option>
                        <option {{ "selected" if category == "guardrail" else "" }} value="guardrail">Guardrail</option>
                        <option {{ "selected" if category == "no-guardrail" else "" }} value="no-guardrail">No Guardrail</option>
                        <option {{ "selected" if category == "custom" else "" }} value="custom">Custom Search</option>
                    </select>
                </div>
                <div class="mb-2 flex-grow-1" style="flex:1;">
                    <input type="text" class="form-control w-100" name="custom_search" id="customSearch" placeholder="Custom Search" value="{{custom_search}}" style="width:100%;">
                </div>
                <div class="mb-2 ms-2">
                    <button type="submit" class="btn btn-primary">Filter</button>
                </div>
                <input type="hidden" name="result_file" value="{{ loaded_file }}">
            </form>
            
            {% if entries|length == 0 %}
                <div class="alert alert-warning mt-3" role="alert">
                    No entries found for the selected filter.
                </div>
            {% else %}
                {% for id, entry in entries.items() %}
                    {% include "utilities/result.html" with context %}
                {% endfor %}
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}
